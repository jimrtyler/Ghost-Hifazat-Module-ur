# 👻 Ghost سیکیورٹی ماڈیول
**PowerShell پر مبنی Windows اور Azure سیکیورٹی سخت بنانے کا ٹول**

> **Windows کے اختتامی نقاط اور Azure ماحول کے لیے فعال سیکیورٹی سخت بنانا۔** Ghost PowerShell پر مبنی سخت بنانے کے فنکشن فراہم کرتا ہے جو غیر ضروری سروسز اور پروٹوکولز کو غیر فعال کرکے عام حملے کے ویکٹرز کو کم کرنے میں مدد کر سکتے ہیں۔

## ⚠️ اہم اعلان برائت

**ٹیسٹنگ ضروری**: Ghost کو ہمیشہ پہلے غیر پیداواری ماحول میں ٹیسٹ کریں۔ سروسز کو غیر فعال کرنا جائز کاروباری کاموں کو متاثر کر سکتا ہے۔

**کوئی ضمانت نہیں**: اگرچہ Ghost عام حملے کے ویکٹرز کو نشانہ بناتا ہے، لیکن کوئی بھی سیکیورٹی ٹول تمام حملوں کو روک نہیں سکتا۔ یہ ایک جامع سیکیورٹی حکمت عملی کا ایک جزو ہے۔

**آپریشنل اثرات**: کچھ فنکشن سسٹم کی فعالیت کو متاثر کر سکتے ہیں۔ تعیناتی سے پہلے ہر سیٹنگ کا احتیاط سے جائزہ لیں۔

**پیشہ ورانہ تشخیص**: پیداواری ماحول کے لیے، سیکیورٹی کے ماہرین سے مشورہ کریں تاکہ یقینی بنایا جا سکے کہ سیٹنگز آپ کی تنظیم کی ضروریات کے مطابق ہیں۔

## 📊 سیکیورٹی کا منظرنامہ

Ransomware کا نقصان **2025 میں 57 بلین ڈالر** تک پہنچ گیا، تحقیق سے ظاہر ہوتا ہے کہ بہت سے کامیاب حملے بنیادی Windows سروسز اور غلط کنفیگریشن کا فائدہ اٹھاتے ہیں۔ عام حملے کے ویکٹرز میں شامل ہیں:

- **90% ransomware واقعات** RDP کے استحصال پر مشتمل ہیں
- **SMBv1 کمزوریاں** WannaCry اور NotPetya جیسے حملوں کو ممکن بنائیں
- **دستاویز میکروز** بنیادی میلویئر ڈیلیوری کا طریقہ باقی ہیں
- **USB پر مبنی حملے** ہوائی خلا والے نیٹ ورکس کو نشانہ بناتے رہتے ہیں
- **PowerShell کا غلط استعمال** حالیہ سالوں میں نمایاں طور پر بڑھا ہے

## 🛡️ Ghost سیکیورٹی فنکشنز

Ghost **16 Windows سخت بنانے کے فنکشنز** اور **Azure سیکیورٹی انٹیگریشن** فراہم کرتا ہے:

### Windows اختتامی نقطہ سخت بنانا

| فنکشن | مقصد | تحفظات |
|----------|---------|----------------|
| `Set-RDP` | Remote Desktop رسائی کا انتظام کرتا ہے | ریموٹ ایڈمنسٹریشن کو متاثر کر سکتا ہے |
| `Set-SMBv1` | پرانے SMB پروٹوکول کو کنٹرول کرتا ہے | بہت پرانے سسٹمز کے لیے ضروری |
| `Set-AutoRun` | AutoPlay/AutoRun کو کنٹرول کرتا ہے | صارف کی سہولت کو متاثر کر سکتا ہے |
| `Set-USBStorage` | USB اسٹوریج ڈیوائسز کو محدود کرتا ہے | جائز USB استعمال کو متاثر کر سکتا ہے |
| `Set-Macros` | Office میکرو ایگزیکیوشن کو کنٹرول کرتا ہے | میکرو فعال دستاویزات کو متاثر کر سکتا ہے |
| `Set-PSRemoting` | PowerShell remoting کا انتظام کرتا ہے | ریموٹ منظوری کو متاثر کر سکتا ہے |
| `Set-WinRM` | Windows Remote Management کو کنٹرول کرتا ہے | ریموٹ ایڈمنسٹریشن کو متاثر کر سکتا ہے |
| `Set-LLMNR` | نام ریزولیوشن پروٹوکول کا انتظام کرتا ہے | عام طور پر غیر فعال کرنا محفوظ ہے |
| `Set-NetBIOS` | TCP/IP پر NetBIOS کو کنٹرول کرتا ہے | پرانی ایپلیکیشنز کو متاثر کر سکتا ہے |
| `Set-AdminShares` | انتظامی شیئرز کا انتظام کرتا ہے | ریموٹ فائل رسائی کو متاثر کر سکتا ہے |
| `Set-Telemetry` | ڈیٹا جمع کرنے کو کنٹرول کرتا ہے | تشخیصی صلاحیات کو متاثر کر سکتا ہے |
| `Set-GuestAccount` | مہمان اکاؤنٹ کا انتظام کرتا ہے | عام طور پر غیر فعال کرنا محفوظ ہے |
| `Set-ICMP` | ping جوابات کو کنٹرول کرتا ہے | نیٹ ورک تشخیص کو متاثر کر سکتا ہے |
| `Set-RemoteAssistance` | Remote Assistance کا انتظام کرتا ہے | helpdesk آپریشنز کو متاثر کر سکتا ہے |
| `Set-NetworkDiscovery` | نیٹ ورک دریافت کو کنٹرول کرتا ہے | نیٹ ورک براؤزنگ کو متاثر کر سکتا ہے |
| `Set-Firewall` | Windows Firewall کا انتظام کرتا ہے | نیٹ ورک سیکیورٹی کے لیے اہم |

### Azure کلاؤڈ سیکیورٹی

| فنکشن | مقصد | ضروریات |
|----------|---------|--------------|
| `Set-AzureSecurityDefaults` | بنیادی Azure AD سیکیورٹی کو فعال کرتا ہے | Microsoft Graph اجازات |
| `Set-AzureConditionalAccess` | رسائی کی پالیسیاں کنفیگر کرتا ہے | Azure AD P1/P2 لائسنسنگ |
| `Set-AzurePrivilegedUsers` | مراعات یافتہ اکاؤنٹس کا آڈٹ کرتا ہے | Global Admin اجازات |

### انٹرپرائز ڈپلائمنٹ کے اختیارات

| طریقہ | استعمال کا معاملہ | ضروریات |
|--------|----------|--------------|
| **براہ راست عمل** | ٹیسٹنگ، چھوٹے ماحول | مقامی ایڈمن حقوق |
| **Group Policy** | ڈومین ماحول | ڈومین ایڈمن، GP انتظام |
| **Microsoft Intune** | کلاؤڈ سے منظم ڈیوائسز | Intune لائسنسنگ، Graph API |

## 🚀 فوری شروعات

### سیکیورٹی تشخیص
```powershell
# Ghost ماڈیول لوڈ کریں
IEX(Invoke-WebRequest 'https://raw.githubusercontent.com/jimrtyler/Ghost/main/Ghost.ps1')

# موجودہ سیکیورٹی کی صورتحال چیک کریں
Get-Ghost
```

### بنیادی سخت بنانا (پہلے ٹیسٹ کریں)
```powershell
# ضروری سخت بنانا - پہلے لیب ماحول میں ٹیسٹ کریں
Set-Ghost -SMBv1 -AutoRun -Macros

# تبدیلیوں کا جائزہ لیں
Get-Ghost
```

### انٹرپرائز ڈپلائمنٹ
```powershell
# Group Policy ڈپلائمنٹ (ڈومین ماحول)
Set-Ghost -SMBv1 -AutoRun -GroupPolicy

# Intune ڈپلائمنٹ (کلاؤڈ سے منظم ڈیوائسز)
Set-Ghost -SMBv1 -RDP -USBStorage -Intune
```

## 📋 انسٹالیشن کے طریقے

### آپشن 1: براہ راست ڈاؤن لوڈ (ٹیسٹنگ)
```powershell
IEX(Invoke-WebRequest 'https://raw.githubusercontent.com/jimrtyler/Ghost/main/Ghost.ps1')
```

### آپشن 2: ماڈیول انسٹالیشن
```powershell
# PowerShell Gallery سے انسٹال کریں (جب دستیاب ہو)
Install-Module Ghost -Scope CurrentUser
Import-Module Ghost
```

### آپشن 3: انٹرپرائز ڈپلائمنٹ
```powershell
# Group Policy ڈپلائمنٹ کے لیے نیٹ ورک لوکیشن پر کاپی کریں
# کلاؤڈ ڈپلائمنٹ کے لیے Intune PowerShell اسکرپٹس کنفیگر کریں
```

## 💼 استعمال کے مثالی کیسز

### چھوٹا کاروبار
```powershell
# کم سے کم اثرات کے ساتھ بنیادی تحفظ
Set-Ghost -SMBv1 -AutoRun -Macros -ICMP
```

### صحت کی دیکھ بھال کا ماحول
```powershell
# HIPAA پر مرکوز سخت بنانا
Set-Ghost -SMBv1 -RDP -USBStorage -AdminShares -Telemetry
```

### مالی خدمات
```powershell
# اعلیٰ سیکیورٹی کنفیگریشن
Set-Ghost -RDP -SMBv1 -AutoRun -USBStorage -Macros -PSRemoting -AdminShares
```

### کلاؤڈ فرسٹ تنظیم
```powershell
# Intune سے منظم ڈپلائمنٹ
Connect-IntuneGhost -Interactive
Set-Ghost -SMBv1 -RDP -AutoRun -Macros -Intune
```

## 🔍 فنکشن کی تفصیلات

### بنیادی سخت بنانے کے فنکشنز

#### نیٹ ورک سروسز
- **RDP**: ریموٹ ڈیسک ٹاپ رسائی کو بلاک کرتا ہے یا پورٹ کو بے ترتیب کرتا ہے
- **SMBv1**: پرانے فائل شیئرنگ پروٹوکول کو غیر فعال کرتا ہے
- **ICMP**: جاسوسی کے لیے ping جوابات کو روکتا ہے
- **LLMNR/NetBIOS**: پرانے نام ریزولیوشن پروٹوکولز کو بلاک کرتا ہے

#### ایپلیکیشن سیکیورٹی
- **میکروز**: Office ایپلیکیشنز میں میکرو ایگزیکیوشن کو غیر فعال کرتا ہے
- **AutoRun**: ہٹانے کے قابل میڈیا سے خودکار عمل کو روکتا ہے

#### ریموٹ منظوری
- **PSRemoting**: PowerShell ریموٹ سیشنز کو غیر فعال کرتا ہے
- **WinRM**: Windows Remote Management کو بند کرتا ہے
- **Remote Assistance**: ریموٹ امداد کنکشنز کو بلاک کرتا ہے

#### رسائی کنٹرول
- **Admin Shares**: C$، ADMIN$ شیئرز کو غیر فعال کرتا ہے
- **Guest Account**: مہمان اکاؤنٹ رسائی کو غیر فعال کرتا ہے
- **USB Storage**: USB ڈیوائس کے استعمال کو محدود کرتا ہے

### Azure انٹیگریشن
```powershell
# Azure ٹینینٹ سے کنکٹ کریں
Connect-AzureGhost -Interactive

# سیکیورٹی ڈیفالٹس کو فعال کریں
Set-AzureSecurityDefaults -Enable

# مشروط رسائی کنفیگر کریں
Set-AzureConditionalAccess -BlockLegacyAuth -RequireMFA

# مراعات یافتہ صارفین کا آڈٹ کریں
Set-AzurePrivilegedUsers -AuditOnly
```

### Intune انٹیگریشن (v2 میں نیا)
```powershell
# Intune سے کنکٹ کریں
Connect-IntuneGhost -Interactive

# Intune پالیسیوں کے ذریعے ڈپلائے کریں
Set-IntuneGhost -Settings @{
    RDP = $true
    SMBv1 = $true
    USBStorage = $true
    Macros = $true
}
```

## ⚠️ اہم تحفظات

### ٹیسٹنگ کی ضروریات
- **لیب ماحول**: پہلے تمام سیٹنگز کو الگ ماحول میں ٹیسٹ کریں
- **مرحلہ وار ڈپلائمنٹ**: مسائل کی شناخت کے لیے بتدریج پھیلائیں
- **رول بیک پلان**: یقینی بنائیں کہ آپ ضرورت پڑنے پر تبدیلیاں واپس کر سکتے ہیں
- **دستاویزات**: ریکارڈ کریں کہ آپ کے ماحول کے لیے کون سی سیٹنگز کام کرتی ہیں

### ممکنہ اثرات
- **صارف کی پیداوری**: کچھ سیٹنگز روزانہ کے ورک فلو کو متاثر کر سکتی ہیں
- **پرانی ایپلیکیشنز**: پرانے سسٹمز کو مخصوص پروٹوکولز کی ضرورت ہو سکتی ہے
- **ریموٹ رسائی**: جائز ریموٹ ایڈمنسٹریشن پر اثرات کو مدنظر رکھیں
- **کاروباری عمل**: تصدیق کریں کہ سیٹنگز اہم فنکشنز کو نہیں توڑتیں

### سیکیورٹی کی حدود
- **گہری دفاع**: Ghost سیکیورٹی کا ایک تہہ ہے، مکمل حل نہیں
- **مسلسل انتظام**: سیکیورٹی کو مسلسل نگرانی اور اپ ڈیٹس کی ضرورت ہے
- **صارف کی تربیت**: تکنیکی کنٹرولز کو سیکیورٹی بیداری کے ساتھ جوڑا جانا چاہیے
- **خطرات کا ارتقا**: نئے حملے کے طریقے موجودہ تحفظات کو نظرانداز کر سکتے ہیں

## 🎯 حملے کے منظرنامے کی مثالیں

اگرچہ Ghost عام حملے کے ویکٹرز کو نشانہ بناتا ہے، مخصوص روک تھام مناسب نفاذ اور ٹیسٹنگ پر منحصر ہے:

### WannaCry طرز کے حملے
- **کمی**: `Set-Ghost -SMBv1` کمزور پروٹوکول کو غیر فعال کرتا ہے
- **اعتبار**: یقینی بنائیں کہ کوئی بھی پرانا سسٹم SMBv1 کی ضرورت نہیں

### RDP پر مبنی Ransomware
- **کمی**: `Set-Ghost -RDP` ریموٹ ڈیسک ٹاپ رسائی کو بلاک کرتا ہے
- **اعتبار**: متبادل ریموٹ رسائی کے طریقوں کی ضرورت ہو سکتی ہے

### دستاویز پر مبنی میلویئر
- **کمی**: `Set-Ghost -Macros` میکرو ایگزیکیوشن کو غیر فعال کرتا ہے
- **اعتبار**: جائز میکرو فعال دستاویزات کو متاثر کر سکتا ہے

### USB کے ذریعے پہنچائے گئے خطرات
- **کمی**: `Set-Ghost -USBStorage -AutoRun` USB فعالیت کو محدود کرتا ہے
- **اعتبار**: جائز USB ڈیوائس کے استعمال کو متاثر کر سکتا ہے

## 🏢 انٹرپرائز فیچرز

### Group Policy سپورٹ
```powershell
# Group Policy رجسٹری کے ذریعے سیٹنگز اپلائی کریں
Set-Ghost -SMBv1 -RDP -AutoRun -GroupPolicy

# GP ریفریش کے بعد سیٹنگز ڈومین وائیڈ اپلائی ہوتی ہیں
gpupdate /force
```

### Microsoft Intune انٹیگریشن
```powershell
# Ghost سیٹنگز کے لیے Intune پالیسیاں بنائیں
Set-IntuneGhost -Settings $GhostSettings -Interactive

# پالیسیاں خودکار طور پر منظم ڈیوائسز پر ڈپلائے ہوتی ہیں
```

### کمپلائنس رپورٹنگ
```powershell
# سیکیورٹی تشخیص رپورٹ جنریٹ کریں
Get-Ghost | Export-Csv -Path "سیکیورٹی-آڈٹ-$(Get-Date -Format 'yyyy-MM-dd').csv"

# Azure سیکیورٹی پوسچر رپورٹ
Get-AzureGhost | Out-File "Azure-سیکیورٹی-رپورٹ.txt"
```

## 📚 بہترین طریقہ کار

### ڈپلائمنٹ سے پہلے
1. **موجودہ حالت دستاویز کریں**: تبدیلیوں سے پہلے `Get-Ghost` چلائیں
2. **اچھی طرح ٹیسٹ کریں**: غیر پیداواری ماحول میں تصدیق کریں
3. **رول بیک کا منصوبہ**: جانیں کہ ہر سیٹنگ کو کیسے واپس کرنا ہے
4. **اسٹیک ہولڈر کا جائزہ**: یقینی بنائیں کہ کاروباری یونٹس تبدیلیوں کو منظور کرتے ہیں

### ڈپلائمنٹ کے دوران
1. **مرحلہ وار رفتار**: پہلے پائلٹ گروپس میں ڈپلائے کریں
2. **اثرات کی نگرانی کریں**: صارف کی شکایات یا سسٹم کے مسائل دیکھیں
3. **مسائل دستاویز کریں**: مستقبل کے حوالے کے لیے کسی بھی مسئلے کو ریکارڈ کریں
4. **تبدیلیوں کی ابلاغ**: صارفین کو سیکیورٹی کی بہتری کے بارے میں آگاہ کریں

### ڈپلائمنٹ کے بعد
1. **باقاعدہ تشخیص**: سیٹنگز کی تصدیق کے لیے وقفے وقفے سے `Get-Ghost` چلائیں
2. **دستاویزات اپڈیٹ کریں**: سیکیورٹی کنفیگریشنز کو موجودہ رکھیں
3. **مؤثریت کا جائزہ لیں**: سیکیورٹی واقعات کی نگرانی کریں
4. **مسلسل بہتری**: خطرات کے منظرنامے کی بنیاد پر سیٹنگز کو ایڈجسٹ کریں

## 🔧 مسائل کا حل

### عام مسائل
- **اجازت کی خرابیاں**: بلند PowerShell سیشن کو یقینی بنائیں
- **سروس کی انحصارات**: کچھ سروسز کی انحصارات ہو سکتی ہیں
- **ایپلیکیشن کمپیٹیبلٹی**: کاروباری ایپلیکیشنز کے ساتھ ٹیسٹ کریں
- **نیٹ ورک کنکٹیویٹی**: تصدیق کریں کہ ریموٹ رسائی اب بھی کام کر رہی ہے

### بحالی کے اختیارات
```powershell
# ضرورت پڑنے پر مخصوص سروسز کو دوبارہ فعال کریں
Set-RDP -Enable
Set-SMBv1 -Enable
Set-AutoRun -Enable
Set-Macros -Enable
```

## 👨‍💻 مصنف کے بارے میں

**Jim Tyler** - PowerShell کے لیے Microsoft MVP
- **YouTube**: [@PowerShellEngineer](https://youtube.com/@PowerShellEngineer) (10,000+ سبسکرائبرز)
- **نیوز لیٹر**: [PowerShell.News](https://powershell.news) - ہفتہ وار سیکیورٹی انٹیلیجنس
- **مصنف**: "PowerShell for Systems Engineers"
- **تجربہ**: PowerShell آٹومیشن اور Windows سیکیورٹی میں دہائیاں

## 📄 لائسنس اور اعلان برائت

### MIT لائسنس
Ghost مفت استعمال، تبدیلی اور تقسیم کے لیے MIT لائسنس کے تحت فراہم کیا جاتا ہے۔

### سیکیورٹی اعلان برائت
- **کوئی وارنٹی نہیں**: Ghost کسی بھی قسم کی وارنٹی کے بغیر "جیسا ہے" فراہم کیا جاتا ہے
- **ٹیسٹنگ ضروری**: ہمیشہ پہلے غیر پیداواری ماحول میں ٹیسٹ کریں
- **پیشہ ورانہ رہنمائی**: پیداواری ڈپلائمنٹس کے لیے سیکیورٹی کے ماہرین سے مشورہ کریں
- **آپریشنل اثرات**: مصنفین کسی بھی آپریشنل خلل کے لیے ذمہ دار نہیں ہیں
- **جامع سیکیورٹی**: Ghost ایک مکمل سیکیورٹی حکمت عملی کا ایک جزو ہے

### سپورٹ
- **GitHub Issues**: [بگز کی رپورٹ کریں یا فیچرز کی درخواست کریں](https://github.com/jimrtyler/Ghost/issues)
- **دستاویزات**: تفصیلی مدد کے لیے `Get-Help <function> -Full` استعمال کریں
- **کمیونٹی**: PowerShell اور سیکیورٹی کمیونٹی فورمز

---

**🔒 Ghost کے ساتھ اپنی سیکیورٹی کی صورتحال کو مضبوط بنائیں - لیکن ہمیشہ پہلے ٹیسٹ کریں۔**

```powershell
# قیاس آرائیوں کے ساتھ نہیں، تشخیص کے ساتھ شروع کریں
Get-Ghost
```

**⭐ اگر Ghost آپ کی سیکیورٹی کی صورتحال کو بہتر بنانے میں مدد کرتا ہے تو اس repository کو اسٹار کریں!**